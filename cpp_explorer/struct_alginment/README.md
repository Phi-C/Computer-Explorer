# 结构体对齐规则(How)
1. 每个成员都要对齐到对齐数的整数倍地址处(第一个成员的在结构体的offset为0)
2. 结构体总的字节数要是最大对齐数的整数倍
由于结构体对齐规则的存在, 程序员在声明一个结构体类型时, 需要仔细考虑数据成员的顺序。因为不同顺序会有不同的padding, 会导致结构体占据的内存大小不一样。
# 为什么要进行对齐(Why)
Q: 为什么数据成员要进行对齐呢?
A:
> CPU通过内存总线从内存读取数据, 内存总线有一定的宽度, 比如64位的内存总线意味着一次只能传输8 bytes数据。如果数据未进行对齐, 可能出现需要CPU将两次读取的结果拼接起来的情况。
